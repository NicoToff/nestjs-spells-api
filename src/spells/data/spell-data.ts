import type { CreateSpellDto } from "../entities/create-spell.dto";
import type { SpellTag, AbilityScore } from "dnd-home-utils";

/* *** TYPESCRIPT SHENANIGANS *** */
// Spells that have the "melee" or "ranged" tag can't have a savingThrow
type SpellTagWithoutSpellAttack = Exclude<SpellTag, "melee" | "ranged">;
type LeanSpellType = Omit<CreateSpellDto, "tags" | "savingThrow">;
type NormalSpellType = LeanSpellType & {
  tags?: SpellTagWithoutSpellAttack[];
  savingThrow?: AbilityScore;
};
type MeleeRangedSpellType = LeanSpellType & {
  tags: ["melee" | "ranged", ...SpellTag[]];
  savingThrow?: never;
};
/* *** *** *** *** *** *** *** *** *** *** */

/* *** HELPER FUNCTIONS AND CONSTANTS *** */
const atkInstead = (type?: "melee" | "ranged") => {
  let atkType = "an";
  if (type != null) {
    atkType = type === "melee" ? "a Melee" : "a Ranged";
  }
  return `You make ${atkType} Attack Roll instead of a Spellcasting Attempt to cast this spell.`;
};
const noHalfCover =
  "A creature doesn't benefit from Half-Cover against this spell.";
const beastOnly =
  "You can affect a beast with an Intelligence of 3 or less that can hear you. The spell fails on any other creature.";
/* *** *** *** *** *** *** *** *** *** *** */

export const SPELL_DATA: (NormalSpellType | MeleeRangedSpellType)[] = [
  {
    name: "Acid Splash",
    level: 0,
    school: "conjuration",
    castingTime: "Action",
    range: "60 feet",
    area: "5-foot-radius sphere",
    duration: "Instantaneous",
    components: ["v", "s"],
    flavor:
      "A bubble of acid materializes around your foe and bursts in a spray.",
    description: ["Each creature takes 1d8 acid damage."],
    damageTypes: ["acid"],
    cantripUpgrade:
      "This spell's damage increases by 1d8 when you reach 5th level (2d8), 10th level (3d8), and 17th level (4d8).",
    savingThrow: "dex",
    sources: ["arcane"],
    group: "Elemental Rudiment",
    tags: ["area"],
  },
  {
    name: "Bang",
    level: 0,
    school: "evocation",
    castingTime: "Action",
    range: "120 feet",
    duration: "Instantaneous",
    components: ["v", "m"],
    material: "a tiny drum",
    flavor: "A loud sound bursts your opponent's ears.",
    description: [
      "A creature takes 1d8 thunder damage and is Deafened until the start of your next turn.",
    ],
    damageTypes: ["thunder"],
    cantripUpgrade:
      "This spell's damage increases by 1d8 when you reach 5th level (2d8), 10th level (3d8), and 17th level (4d8).",
    savingThrow: "con",
    sources: ["arcane"],
    group: "Elemental Rudiment",
  },
  {
    name: "Blade Ward",
    level: 0,
    school: "abjuration",
    castingTime: "Reaction, taken when an enemy attacks you in Melee",
    range: "Self",
    duration: "Instantaneous",
    components: ["v", "s"],
    flavor: "You snap your fingers, then trace a sigil of warding in the air.",
    description: ["You impose Disadvantage on the triggering Attack."],
    sources: ["arcane"],
    tags: ["debuff"],
  },
  {
    name: "Booming Blade",
    level: 0,
    school: "evocation",
    castingTime: "Action",
    range: "Self",
    duration: "Until the start of your next turn",
    components: ["s", "m"],
    material: "the weapon you use for the Attack Roll",
    flavor: "You channel thunderous energy into your weapon.",
    description: [
      atkInstead("melee"),
      "You deal damage normally, and the target becomes sheathed in booming energy until the start of your next turn. If the target willingly moves before then, it immediately takes 1d8 thunder damage, and the spell ends.",
    ],
    sources: ["arcane"],
    cantripUpgrade:
      "Starting at 5th level, the Melee Attack deals an additional 1d8 thunder damage on a hit and the damage for moving increases to 2d8. These damage rolls increase to 2d8 and 3d8 at 10th level, and to 3d8 and 4d8 at 17th level.",
    tags: ["melee", "debuff"],
    damageTypes: ["thunder"],
    group: "Magic Strike",
  },
  {
    name: "Censure",
    level: 0,
    school: "evocation",
    castingTime: "Action",
    range: "60 feet",
    duration: "Until the start of your next turn",
    components: ["v", "s"],
    flavor: "You warn a creature of dire consequence if it dares to move.",
    description: [
      "If the creature willingly moves before the spell ends, it takes 2d8 radiant damage.",
      "The creature is aware of this effect.",
    ],
    damageTypes: ["radiant"],
    cantripUpgrade:
      "This spell's damage increases by 2d8 when you reach 5th level (4d8), 10th level (6d8), and 17th level (8d8).",
    savingThrow: "wis",
    tags: ["control"],
    group: "Blessed Radiance",
    sources: ["divine"],
  },
  {
    name: "Control Flames",
    level: 0,
    school: "transmutation",
    castingTime: "Action",
    range: "60 feet",
    duration: "Instantaneous",
    components: ["s"],
    flavor: "You control the intensity and shape of fire.",
    description: [
      "Choose a nonmagical flame that fits in a 5-foot cube and affect it in one of the following ways:",
      "- You expand the flame 5 feet in one direction, provided that a combustible is present in the new location.",
      "- You extinguish the flames within the cube.",
      "- You double or halve the area of bright light and dim light cast by the flame, change its color, or both.",
      "- You cause simple shapes to appear within the flames and animate as you like. The shapes last for 1 hour.",
      "If you cast this spell multiple times, you can have up to three of its non-instantaneous effects active at a time, and you can dismiss such an effect as an Action.",
    ],
    group: "Nature Craft",
    sources: ["arcane", "primal"],
  },
  {
    name: "Chill Touch",
    level: 0,
    school: "necromancy",
    castingTime: "Action",
    range: "120 feet",
    duration: "Until the start of your next turn",
    components: ["v"],
    flavor:
      "You create a ghostly, skeletal hand to strangle your opponent with the chill of the grave.",
    description: [
      "The creature takes 1d10 necrotic damage, and it can't regain hit points.",
      "If you hit an undead creature, it also has Disadvantage on Attack Rolls against you.",
    ],
    damageTypes: ["necrotic"],
    cantripUpgrade:
      "This spell's damage increases by 1d10 when you reach 5th level (2d10), 10th level (3d10), and 17th level (4d10).",
    sources: ["arcane", "divine"],
    tags: ["ranged", "debuff"],
    group: "Requiems",
  },
  {
    name: "Druidcraft",
    level: 0,
    school: "divination",
    castingTime: "Action",
    range: "Self",
    duration: "Instantaneous",
    components: ["v", "s"],
    flavor: "Smell the air, feel the wind, listen to the earth...",
    description: [
      "Choose one of the following effect:",
      "- You get a vision of the weather within a 1-mile radius for the next 24 hours.",
      "- You instantly make a flower blossom, a seed pod open, or a leaf bud bloom.",
    ],
    cantripUpgrade:
      "The location of the weather forecast increases to a 5-mile radius when you reach 5th level, 10-mile radius at 10th level, and 100-mile radius at 17th level. The number of plant you can affect increases to two at 5th level, ten at 10th level, and twenty-five at 17th level.",
    sources: ["primal"],
    group: "Nature Craft",
  },
  {
    isPrivate: true,
    name: "Eldritch Blast",
    level: 0,
    school: "evocation",
    castingTime: "Action",
    range: "120 feet",
    duration: "Instantaneous",
    components: ["v", "s"],
    flavor: "A beam of crackling energy streaks toward your foe.",
    description: ["The creature takes 1d10 force damage."],
    damageTypes: ["force"],
    cantripUpgrade:
      "This spell creates one additional beam when you reach 5th level (two beams), 10th level (three beams), and 17th level (four beams).",
    tags: ["ranged"],
    sources: ["warlock"],
  },
  {
    name: "Fire Bolt",
    level: 0,
    school: "evocation",
    castingTime: "Action",
    range: "120 feet",
    duration: "Instantaneous",
    components: ["v", "s"],
    flavor: "You hurl a searing mote of magical fire at your foe.",
    description: [
      "The creature takes 1d12 fire damage.",
      "A flammable object hit by this spell ignites if it isn't being worn or carried.",
    ],
    damageTypes: ["fire"],
    tags: ["ranged"],
    cantripUpgrade:
      "This spell's damage increases by 1d12 when you reach 5th level (2d12), 10th level (3d12), and 17th level (4d12).",
    sources: ["arcane"],
    group: "Elemental Rudiment",
  },
  {
    name: "Green-Flame Blade",
    level: 0,
    school: "evocation",
    castingTime: "Action",
    range: "Self",
    duration: "Instantaneous",
    components: ["v", "m"],
    material: "the weapon you use for the Attack Roll",
    flavor: "You imbue your weapon with green fire.",
    description: [
      atkInstead("melee"),
      "You deal damage normally, and the creature takes 1d8 fire damage. If the creature is within 5 feet of another enemy, that enemy takes fire damage equal to your Spellcasting Ability Modifier.",
    ],
    cantripUpgrade:
      "Starting at 5th level, the Melee Attack deals an additional 1d8 fire damage on a hit and the damage for the secondary target increases to 1d8 + your Spellcasting Ability Modifier. These damage rolls increase to 3d8 and 2d8 at 10th level, and to 4d8 and 3d8 at 17th level.",
    damageTypes: ["fire"],
    tags: ["melee"],
    sources: ["arcane"],
    group: "Magic Strike",
  },
  {
    name: "Guidance",
    level: 0,
    school: "divination",
    castingTime: "Action",
    components: ["v", "s"],
    range: "30 feet",
    duration: "Until the start of your next turn",
    flavor:
      "You are able to assist your companions with wise words and foresight.",
    description: [
      "The creature gets the benefits of the Help Action on its next d20 Test.",
    ],
    cantripUpgrade:
      "The range of this spell increases to 60 feet at 5th level, 120 feet at 10th level, and 300 feet at 17th level.",
    sources: ["divine"],
    tags: ["buff"],
  },
  {
    name: "Gust",
    level: 0,
    school: "transmutation",
    castingTime: "Action",
    range: "30 feet",
    duration: "Instantaneous",
    components: ["v", "s"],
    flavor: "You seize the air and force it to move at your command.",
    description: [
      "On a successful Attempt, choose one of the following effect:",
      "- One Medium or smaller creature that you can see is pushed up to 5 feet away from you.",
      "- Push an object that isn't being worn or carried up to 5 feet away from you. It isn't pushed with enough force to cause direct damage.",
      "- You cause leaves to rustle, wind to slam shutters shut, your clothing to ripple in a breeze or any other harmless sensory effect linked to wind.",
    ],
    sources: ["arcane", "primal"],
    cantripUpgrade:
      "The maximum weight of the object you can affect increases to 10 pounds when you reach 5th level, 25 pounds at 10th level, and 50 pounds at 17th level. The size of the creature you can affect increases to Large at 5th level, Huge at 10th level, and Gargantuan at 17th level.",
    group: "Nature Craft",
    savingThrow: "str",
  },
  {
    name: "Infestation",
    level: 0,
    school: "conjuration",
    castingTime: "Action",
    range: "30 feet",
    duration: "Instantaneous",
    components: ["v", "s", "m"],
    material: "a living flea or moth",
    flavor: "You cause a cloud of mites, fleas, and other parasites to appear.",
    description: [
      "The creature takes 1d8 poison damage and moves 5 feet in a random direction if it can move and its speed is at least 5 feet.",
      "The movement doesn't provoke opportunity attacks, and if the direction rolled is blocked, the target doesn't move.",
    ],
    cantripUpgrade:
      "This spell's damage increases by 1d8 when you reach 5th level (2d8), 10th level (3d8), and 17th level (4d8).",
    sources: ["arcane", "primal"],
    savingThrow: "con",
    damageTypes: ["poison"],
    tags: ["debuff"],
  },
  {
    name: "Light",
    level: 0,
    school: "conjuration",
    castingTime: "Action",
    range: "Touch",
    duration: "1 hour",
    components: ["v", "m"],
    material: "a firefly or phosphorescent moss",
    flavor: "You conjure a source of light on any surface.",
    description: [
      "The surface emits bright light in a 20-foot radius and dim light for an additional 20 feet.",
    ],
    cantripUpgrade:
      "Both radius increase to 40 feet when you reach 5th level, 60 feet at 10th level, and 120 feet at 17th level.",
    sources: ["arcane", "divine", "primal"],
  },
  {
    name: "Prestidigitation",
    level: 0,
    school: "transmutation",
    castingTime: "Action",
    range: "30 feet",
    duration: "See description",
    components: ["v", "s"],
    flavor: "Magic can be powerful, but it can also amuse.",
    description: [
      "You create one of the following magical effects within range:",
      "- You clean or soil an object no larger than 1 cubic foot.",
      "- You light or snuff out a candle, a torch, or a small campfire.",
      "- You can an unlocked door, window or container to open or slam shut.",
      "- You cause harmless tremors in the ground for 1 minute.",
      "- Your voice booms up to three times as loud as normal for 1 minutes.",
      "- You alter the color of your eyes, for 1 minute.",
      "- You create a nonmagical trinket or an illusory image that can fit in your hand and that lasts until the start of your next turn.",
      "- Until the start of your next turn, you create an harmless sensory effect, such as a shower of sparks, a puff of wind, faint musical notes, an odd odor, falling leaves, a rumble of thunder, the cry of a raven, ominous whispers or a similar phenomenon.",
      "- You chill or warm, a 5-foot cube area for 1 hour.",
      "- You flavor up 1 cubic foot of nonliving material for 1 hour.",
      "- You make a small mark appear on an object or surface for 1 hour.",
      "If you cast this spell multiple times, you can have up to three of its non-instantaneous effects active at a time. You can dismiss any effect as an Action.",
    ],
    cantripUpgrade:
      "The maximum amount of effects you can have active at a time increases to six when you reach 5th level, ten at 10th level, and twenty-five at 17th level.",
    sources: ["arcane", "divine", "primal"],
    group: "Nature Craft",
  },
  {
    name: "Mage Hand",
    level: 0,
    school: "conjuration",
    castingTime: "Action",
    range: "30 feet",
    duration: "1 minute",
    components: ["v", "s"],
    flavor: "You conjure a spectral, floating hand.",
    description: [
      "You can use your Action to control the hand. You can use the hand to manipulate an object, open an unlocked door or container, stow or retrieve an item from an open container, or pour the contents out of a vial. You can move the hand up to 30 feet each time you use it.",
      "The hand can't Attack, activate magic items, or carry more than 10 pounds.",
      "It can carry one object at a time, and anything it is carrying disappears if it is more than 30 feet away from you or if you cast this spell again.",
    ],
    sources: ["arcane"],
    tags: ["summon"],
  },
  {
    name: "Mending",
    level: 0,
    school: "transmutation",
    castingTime: "1 minute",
    range: "Touch",
    duration: "Instantaneous",
    components: ["v", "s", "m"],
    material: "two lodestones",
    flavor:
      "As chips of wood appear out of thin air, the shallow dent in your cart repairs before everyone's eyes.",
    description: [
      "Repair a break or tear in a nonmagical nonliving object on a surface of up to 1 foot in width and height.",
    ],
    cantripUpgrade:
      "The width and height of the surface increases to 2 feet when you reach 5th level, 5 feet at 10th level, and 20 feet at 17th level.",
    sources: ["arcane", "divine", "primal"],
  },
  {
    name: "Message",
    level: 0,
    school: "transmutation",
    castingTime: "Action",
    range: "120 feet",
    duration: "Until the start of your next turn",
    components: ["v", "s", "m"],
    material: "a short piece of metal wire",
    flavor: "You communicate a distant message with a whisper.",
    description: [
      "You point your finger toward a creature within range and whisper a message. The target (and only the target) hears the message and can reply in a whisper that only you can hear.",
      "You can cast this spell through solid objects if you are familiar with the target and know it is beyond the barrier. Magical Silence, 1 foot of stone, 1 inch of common metal, a thin sheet of lead, or 3 feet of wood blocks the spell.",
    ],
    cantripUpgrade:
      "This cantrip's range increases to 300 feet when you reach 5th level, 1 mile at 10th level, and 20 miles at 17th level.",
    sources: ["arcane"],
  },
  {
    name: "Mind Sliver",
    level: 0,
    school: "enchantment",
    castingTime: "Action",
    range: "60 feet",
    duration: "Until the start of your next turn",
    components: ["v"],
    flavor:
      "You drive a disorienting spike of psychic energy into the mind of one creature.",
    description: [
      "The creature takes 1d6 psychic damage, and the the next time this round a d20 Test is rolled against that creature, the Test has a +1d2 bonus.",
    ],
    sources: ["arcane"],
    cantripUpgrade:
      "At 5th level, this spell's damage increases to 2d6 and its bonus to +1d4. At 10th level, the damage increases to 3d6 and the bonus to +1d6. At 17th level, the damage increases to 4d6 and the bonus to +1d8.",
    savingThrow: "int",
    damageTypes: ["psychic"],
    tags: ["buff"],
  },
  {
    name: "Minor Illusion",
    level: 0,
    school: "illusion",
    castingTime: "Action",
    range: "30 feet",
    duration: "1 minute",
    components: ["s", "m"],
    material: "a bit of fleece",
    flavor:
      "You have a knack for presenting tangible proof of thing that... aren't quite there.",
    description: [
      "Create one of the following effects:",
      "**Sound.** The volume can range from a whisper to a scream. The sound continues unabated throughout the duration, or you can make discrete sounds at different times before the spell ends.",
      "**Image.** The image must be an object no larger than a 5-foot cube. It can't create sound, light, smell, or any other sensory effect. Physical interaction with the image reveals it to be an illusion, because things can pass through it.",
      "If a creature uses its Action to examine the sound or image, the creature can determine that it is an illusion with a successful Intelligence (Investigation) Check. If a creature discerns the illusion for what it is, the illusion becomes faint to the creature.",
      "The illusion ends if you dismiss it as an Action or cast this spell again.",
    ],
    cantripUpgrade:
      "The size of the object you can create increases to 10-foot cube when you reach 5th level, 15-foot cube at 10th level, and 20-foot cube at 17th level. Moreover, you can have two illusions active at a time when you reach 5th level, three at 10th level, and four at 17th level.",
    sources: ["arcane"],
    tags: ["summon"],
    savingThrow: "int",
  },
  {
    name: "Mold Earth",
    level: 0,
    school: "transmutation",
    castingTime: "Action",
    range: "30 feet",
    duration: "Instantaneous",
    components: ["s"],
    flavor: "You modify the aspect and density of dirt or stone.",
    description: [
      "Choose one of the following effect:",
      "- Excavate 5-foot cube of loose earth. You can move the dirt up to 5 feet away. This movement doesn't have enough force to cause damage.",
      "- You cause shapes, colors, or both to appear on the dirt or stone, spelling out words, creating images, or shaping patterns. The changes last for 1 hour.",
      "- You cause a stone or dirt ground to become difficult terrain on a 5-foot surface, or difficult terrain to become normal terrain. This change lasts for 1 hour.",
      "If you cast this spell multiple times, you can have no more than two of its non-instantaneous effects active at a time, and you can dismiss such an effect as an Action.",
    ],
    sources: ["arcane", "primal"],
    cantripUpgrade:
      "At 5th level, the size of the cube and surface increases to 10 feet and duration of non-instantaneous effects increases to 8 hours. At 10th level, the size increases to 15 feet and the duration increases to 24 hours. At 17th level, the size increases to 20 feet and the effects are permanent.",
    group: "Nature Craft",
  },
  {
    name: "Shape Water",
    level: 0,
    school: "transmutation",
    castingTime: "Action",
    range: "30 feet",
    duration: "Instantaneous",
    components: ["s"],
    flavor: "You shape a volume of water.",
    description: [
      "Choose one of the following effect to apply on 5-foot cube of water:",
      "- You move or change the flow of the water, up to 5 feet in any direction. This movement doesn't have enough force to cause damage.",
      "- You cause the water to form into simple shapes and animate at your command. This change lasts for 1 hour.",
      "- You change the water's color or opacity. This change lasts for 1 hour.",
      "- You freeze the water, provided that there are no creatures in it. The water unfreezes in 1 hour.",
      "If you cast this spell multiple times, you can have no more than two of its non-instantaneous effects active at a time, and you can dismiss such an effect as an Action.",
    ],
    sources: ["arcane", "primal"],
    cantripUpgrade:
      "At 5th level, the size of the cube increases to 10 feet and duration of non-instantaneous effects increases to 8 hours. At 10th level, the size increases to 15 feet and the duration increases to 24 hours. At 17th level, the size increases to 20 feet and the effects are permanent.",
    group: "Nature Craft",
  },
  {
    name: "Poison Spray",
    level: 0,
    school: "necromancy",
    castingTime: "Action",
    range: "15 feet",
    duration: "Instantaneous",
    components: ["v", "s"],
    flavor: "You spray a mist of toxic energy on your enemy.",
    description: [
      "A creature doesn't benefit from half-cover against this spell.",
      "The creature takes 2d8 poison damage.",
    ],
    damageTypes: ["poison"],
    cantripUpgrade:
      "This spell's damage increases by 2d8 when you reach 5th level (4d8), 10th level (6d8), and 17th level (8d8).",
    savingThrow: "con",
    sources: ["arcane", "primal"],
    group: "Wild Nature",
  },
  {
    name: "Primal Savagery",
    level: 0,
    school: "transmutation",
    castingTime: "Action",
    range: "Self",
    duration: "Instantaneous",
    components: ["s"],
    flavor:
      "You channel primal magic to cause your teeth or fingernails to sharpen, to deliver a corrosive attack before returning their normal form.",
    description: [
      `${atkInstead("melee")} The Attack Roll and damage roll can be made using your Spellcasting Ability Modifier.`,
      "The creature takes 1d12 acid damage.",
    ],
    cantripUpgrade:
      "This spell's damage increases by 1d12 when you reach 5th level (2d12), 10th level (3d12), and 17th level (4d12).",
    sources: ["druid"],
    damageTypes: ["acid"],
    tags: ["melee"],
    group: "Wild Nature",
  },
  {
    name: "Protection",
    level: 0,
    school: "abjuration",
    castingTime: "Action",
    range: "Touch",
    duration: "1 minute",
    concentration: true,
    components: ["v", "s", "m"],
    material: "a miniature cloak",
    flavor: "You shield a creature from harm.",
    description: ["The creature is Resistant to nonmagical Physical damage."],
    sources: ["artificer", "divine"],
    tags: ["buff"],
    cantripUpgrade:
      "The number of creatures you can affect increases to 2 when you reach 5th level, 3 at 10th level, and 6 at 17th level.",
  },
  {
    name: "Ray of Frost",
    level: 0,
    school: "evocation",
    castingTime: "Action",
    range: "60 feet",
    duration: "Instantaneous",
    components: ["v", "s"],
    flavor: "A frigid beam of blue-white light streaks toward your enemy.",
    description: [
      "The creature takes 1d10 cold damage, and its speed is reduced by 10 feet until the start of your next turn.",
    ],
    damageTypes: ["cold"],
    cantripUpgrade:
      "This spell's damage increases by 1d10 when you reach 5th level (2d10), 10th level (3d10), and 17th level (4d10).",
    tags: ["ranged", "debuff"],
    sources: ["arcane"],
    group: "Elemental Rudiment",
  },
  {
    name: "Relieve Pain",
    level: 0,
    school: "abjuration",
    castingTime: "1 minute",
    range: "Touch",
    duration: "1 hour",
    components: ["v", "s", "m"],
    material: "a piece of bread and a cup of water",
    flavor:
      "Through the essence of nutrition, you soothe a creature's weariness or illness.",
    description: [
      "The creature is unaffected by the effect of one level of Exhaustion and its fever, nausea, or hangover (if any) is ignored.",
      "**Non-repeatable.** A creature affected by this spell can't be affected by it again until it finishes a Long Rest.",
    ],
    cantripUpgrade:
      "The number of creatures you can affect increases to 2 when you reach 5th level, 6 at 10th level, and 25 at 17th level.",
    sources: ["divine"],
    tags: ["heal"],
  },
  {
    name: "Sacred Flame",
    level: 0,
    school: "evocation",
    castingTime: "Action",
    range: "60 feet",
    duration: "Instantaneous",
    components: ["v"],
    flavor: "Bright flames are called from the heavens to engulf your foe.",
    description: [noHalfCover, "The creature takes 1d10 radiant damage."],
    cantripUpgrade:
      "This spell's damage increases by 1d10 when you reach 5th level (2d10), 10th level (3d10), and 17th level (4d10).",
    damageTypes: ["radiant"],
    savingThrow: "dex",
    group: "Blessed Radiance",
    sources: ["divine"],
  },
  {
    name: "Shillelagh",
    level: 0,
    school: "transmutation",
    castingTime: "Bonus Action",
    range: "Touch",
    duration: "1 minute",
    components: ["v", "s", "m"],
    material: "mistletoe, a shamrock leaf, and a club or quarterstaff",
    flavor: "You imbue a wooden weapon with the power of nature.",
    description: [
      "You can use your Spellcasting Ability instead of Strength for the Melee Attack rolls and damage rolls using the weapon.",
      "The weapon's damage die becomes a d10 and you can choose to replace its damage type with radiant damage when you cast the spell.",
      "The spell ends if you cast it again or if you let go of the weapon.",
    ],
    cantripUpgrade:
      "The damage die changes when you reach certain druid levels: 1d12 at 5th level, 2d8 at 10th level, and 2d12 at 17th level.",
    damageTypes: ["radiant"],
    tags: ["melee", "buff"],
    sources: ["druid"],
  },
  {
    name: "Shocking Grasp",
    level: 0,
    school: "evocation",
    castingTime: "Action",
    range: "Touch",
    duration: "Instantaneous",
    components: ["s"],
    flavor:
      "Lightning springs from your hand to deliver a shock to a creature.",
    description: [
      "Your Spellcasting Attempt is Easy if the creature is made of metal, or wearing metal armor.",
      "The creature takes 1d10 lightning damage, and it can't take Reactions until the start of its next turn.",
    ],
    damageTypes: ["lightning"],
    cantripUpgrade:
      "This spell's damage increases by 1d10 when you reach 5th level (2d10), 10th level (3d10), and 17th level (4d10).",
    tags: ["melee", "debuff"],
    sources: ["arcane"],
    group: "Elemental Rudiment",
  },
  {
    name: "Spare the Dying",
    level: 0,
    school: "necromancy",
    castingTime: "Action",
    range: "Touch",
    duration: "Instantaneous",
    components: ["s"],
    flavor:
      "You channel positive energy in your hands to stabilize a dying creature.",
    description: [
      "If it is Dying, the creature becomes stable. Then, it can spend a Hit Die and roll it to regain an amount of Hit Points equal to the roll + your Spellcasting Ability Modifier (minimum of 1).",
    ],
    tags: ["heal"],
    sources: ["divine"],
  },
  {
    name: "Sword Burst",
    level: 0,
    school: "conjuration",
    castingTime: "Action",
    range: "Self",
    area: "5-foot radius",
    duration: "Instantaneous",
    components: ["v"],
    sources: ["arcane"],
    flavor: "You create a circle of spectral blades that sweep around you.",
    description: ["Each creature takes 1d8 slashing damage."],
    cantripUpgrade:
      "This spell's damage increases by 1d8 when you reach 5th level (2d8), 10th level (3d8), and 17th level (4d8).",
    tags: ["area"],
    damageTypes: ["slashing"],
    savingThrow: "dex",
  },
  {
    name: "Thorn Whip",
    level: 0,
    school: "transmutation",
    castingTime: "Action",
    range: "30 feet",
    duration: "Instantaneous",
    components: ["v", "s", "m"],
    material: "the stem of a plant with thorns",
    flavor:
      "You create a long vine covered in thorns that lashes out at your command.",
    description: [
      "The creature takes 1d8 piercing damage, and if it is Large or smaller, you pull it up to 10 feet closer to you.",
    ],
    cantripUpgrade:
      "The damage, range and pull distance increase when you reach certain levels. At 5th level, the damage increases to 2d8, the range to 60 feet, and the pull distance to 15 feet. At 10th level, the damage increases to 3d8, the range to 90 feet, and the pull distance to 20 feet. At 17th level, the damage increases to 4d8, the range to 120 feet, and the pull distance to 30 feet.",
    sources: ["primal"],
    tags: ["ranged"],
    damageTypes: ["piercing"],
    group: "Wild Nature",
  },
  {
    name: "Thunderclap",
    level: 0,
    school: "evocation",
    castingTime: "Action",
    range: "Self",
    area: "5-foot radius",
    duration: "Instantaneous",
    components: ["s"],
    flavor:
      "You create a burst of thunderous sound which resonates in your surroundings.",
    description: ["Each creature takes 1d8 thunder damage."],
    cantripUpgrade:
      "This spell's damage increases by 1d8 when you reach 5th level (2d8), 10th level (3d8), and 17th level (4d8).",
    damageTypes: ["thunder"],
    savingThrow: "con",
    tags: ["area"],
    sources: ["primal"],
    group: "Wild Nature",
  },
  {
    name: "Toll the Dead",
    level: 0,
    school: "necromancy",
    castingTime: "Action",
    range: "60 feet",
    duration: "Instantaneous",
    components: ["v", "s"],
    flavor: "You point at a creature and unleash a, ominous bell-like sound.",
    description: [
      "The creature takes 2d8 necrotic damage, or only 1d12 necrotic damage if it is missing any of its Hit Points.",
    ],
    savingThrow: "wis",
    damageTypes: ["necrotic"],
    cantripUpgrade:
      "This spell's number of damage dice increases when you reach 5th level (4d8 or 2d12), 10th level (6d8 or 3d12), and 17th level (8d8 or 4d12).",
    sources: ["divine"],
    group: "Requiems",
  },
  {
    name: "True Strike",
    level: 0,
    school: "divination",
    castingTime: "Action",
    range: "Self",
    duration: "Instantaneous",
    components: ["s", "m"],
    material: "the weapon you use for the Attack Roll",
    flavor: "A flash of magical insight guides your strike.",
    description: [
      `${atkInstead()} The Attack Roll and damage roll can be made using your Spellcasting Ability Modifier.`,
      "You deal damage normally, but you can choose to replace the weapon's damage type with force damage.",
    ],
    sources: ["arcane"],
    cantripUpgrade:
      "The damage of the Attack provided by this spell increases by 1d6 when you reach 5th level (2d6), 10th level (3d6), and 17th level (4d6).",
    tags: ["melee", "ranged", "buff"],
    damageTypes: ["force"],
    group: "Magic Strike",
  },
  {
    name: "Veil",
    level: 0,
    school: "abjuration",
    castingTime: "Action",
    range: "60 feet",
    duration: "1 minute, or until hit",
    components: ["v", "s"],
    flavor: "You wreathe a creature with a protective veil of radiant energy.",
    description: [
      "The creature glows, shedding bright light in a 5-foot radius and dim light for an additional 5 feet.",
      "While glowing, if the creature is hit by a Melee Attack or Spell, the attacker takes 1d12 radiant damage and this spell ends.",
      "An unwilling creature can try to resist this spell.",
    ],
    damageTypes: ["radiant"],
    cantripUpgrade:
      "This spell's damage increases by 1d12 when you reach 5th level (2d12), 10th level (3d12), and 17th level (4d12).",
    savingThrow: "wis",
    tags: ["buff"],
    group: "Blessed Radiance",
    sources: ["divine"],
  },
  {
    name: "Vicious Mockery",
    level: 0,
    school: "enchantment",
    castingTime: "Action",
    range: "60 feet",
    duration: "Instantaneous",
    components: ["v"],
    flavor: "You unleash a string of insults laced with subtle enchantments.",
    description: [
      "The creature takes 1d8 psychic damage, and it has Disadvantage on the next d20 Test it makes as an Action or Bonus Action before the end of its next turn.",
    ],
    damageTypes: ["psychic"],
    cantripUpgrade:
      "This spell's damage increases by 1d8 when you reach 5th level (2d8), 10th level (3d8), and 17th level (4d8).",
    savingThrow: "wis",
    sources: ["bard"],
    tags: ["debuff"],
  },
  {
    name: "Wind Whisper",
    level: 0,
    school: "divination",
    castingTime: "1 minute",
    range: "Self",
    area: "Up to 4-mile radius",
    concentration: true,
    duration: "Until dispelled",
    components: ["v", "s", "m"],
    material: "enchanted herbs",
    flavor:
      "You enter a trance and listen to primal energy transmitted through the wind.",
    description: [
      "You are uncounscious for the duration, except you can take an Action to end the spell.",
      "While in the trance, you can receive and broadcast emotions to and from creatures using this spell or similar magic. Nature itself sends primal energy that you can perceive with this spell.",
      "This spell doesn't allow you to know the location of eachu communiate with.",
      "The communication isn't instantaneous. It takes a round for an emotion to travel 1 mile (i.e. it takes a minute to travel 10 miles).",
    ],
    sources: ["primal"],
    cantripUpgrade:
      "This spell's maximum radius increases to 15 miles when you reach 5th level, 100 miles at 10th level, and 1,000 miles at 17th level. Starting at 10th level, the communication can be as articulate as normal speech.",
  },
  {
    name: "Word of Radiance",
    level: 0,
    school: "evocation",
    castingTime: "Action",
    range: "Self",
    area: "5-foot radius",
    duration: "Instantaneous",
    components: ["v", "m"],
    material: "a holy symbol",
    flavor: "You utter a divine word, and burning radiance erupts from you.",
    description: ["Each creature takes 1d8 radiant damage."],
    sources: ["divine"],
    savingThrow: "con",
    tags: ["area"],
    cantripUpgrade:
      "This spell's damage increases by 1d8 when you reach 5th level (2d8), 10th level (3d8), and 17th level (4d8).",
    damageTypes: ["radiant"],
    group: "Blessed Radiance",
  },
  {
    name: "Absorb Elements",
    level: 1,
    school: "abjuration",
    castingTime: "Reaction, taken right before you take damage",
    range: "Self",
    duration: "Until the start of your next turn",
    components: ["s"],
    flavor: "Your skin briefly becomes one with the elements.",
    description: [
      "You are Resistant against the elemental type of your choice: acid, cold, fire, lightning, or thunder.",
    ],
    atHigherLevels:
      "For each spell slot above 1st level, you can make an extra creature within 5 feet of you Resistant against the chosen elemental type.",
    sources: ["arcane", "primal"],
    group: "Barrier",
    tags: ["buff"],
  },
  {
    name: "Alarm",
    level: 1,
    school: "abjuration",
    castingTime: "Action",
    range: "30 feet",
    area: "20-foot cube",
    duration: "8 hours",
    ritual: true,
    components: ["v", "s", "m"],
    material: "a tiny bell and a piece of fine silver wire",
    flavor: "You set an alarm against unwanted intrusion.",
    description: [
      "Choose a door, a window, or an area as the source of the area you ward. Until the spell ends, an Alarm alerts you whenever a Tiny or larger creature touches or enters the warded area.",
      "When you cast the spell, you can designate creatures that won't set off the alarm. You also choose whether the alarm is audible and whether the alarm alerts you mentally.",
      "A mental alarm alerts you with a ping in your mind if you are within 1 mile of the warded area. This ping awakens you if you are sleeping. An audible alarm produces the sound of a hand bell for 10 seconds within 120 feet.",
    ],
    atHigherLevels:
      "When you cast this spell using a spell slot of 2nd level or higher, for each slot level above 1st: the area of the spell increases by 10 feet, the duration increases by one day, and the range of the mental ping increases by 1 mile.",
    sources: ["arcane"],
  },
  {
    name: "Animal Friendship",
    level: 1,
    school: "enchantment",
    castingTime: "Action",
    range: "30 feet",
    duration: "24 hours",
    components: ["v", "s", "m"],
    material: "a morsel of food",
    flavor: "You convince a beast that you mean it no harm.",
    sources: ["primal"],
    description: [
      beastOnly,
      "One beast is Charmed by you.",
      "If you or one of your companions harm the target, the spells ends.",
    ],
    atHigherLevels:
      "When you cast this spell using a spell slot of 2nd level or higher, you can affect one additional beast and the duration increases by 24 hours for each slot level above 1st.",
    tags: ["debuff"],
    group: "Bestial Connection",
    savingThrow: "wis",
  },
  // {
  //   name: "Armor of Agathys",
  // },
  // {
  //   name: "Arms of Hadar",
  // },
  {
    name: "Bane",
    level: 1,
    school: "enchantment",
    castingTime: "Action",
    range: "60 feet",
    components: ["v", "s", "m"],
    material: "a drop of blood",
    concentration: true,
    duration: "1 minute",
    flavor: "You curse your enemies' ability to strike you.",
    description: [
      "Up to three creatures that you can see become cursed.",
      "Whenever they make an Attack Roll or a Saving Throw, they must roll a d4 and subtract the number rolled from the Test.",
    ],
    atHigherLevels:
      "When you cast this spell using a spell slot of 2nd level or higher, you can target one additional creature for each slot level above 1st.",
    sources: ["divine"],
    tags: ["debuff"],
    group: "Divine Enchantment",
    savingThrow: "cha",
  },
  {
    name: "Beast Bond",
    level: 1,
    school: "divination",
    castingTime: "Action",
    range: "Touch",
    duration: "10 minutes",
    components: ["v", "s", "m"],
    material: "a bit of fur wrapped in a cloth",
    concentration: true,
    flavor: "You forge a telepathic link with a beast.",
    description: [
      beastOnly,
      "You establish a telepathic link with the beast if it is friendly to you or Charmed by you.",
      "Through this link, the beast can understand your telepathic messages you give it and it can respond with simple emotions and concepts.",
      "While the link is active, the beast gains Advantage on Attack Rolls against any creature within 5 feet of you.",
    ],
    sources: ["primal"],
    tags: ["buff"],
    atHigherLevels:
      "When you cast this spell using a spell slot of 2nd level or higher, the duration increases by 10 minutes for each slot level above 1st.",
    group: "Bestial Connection",
  },
  {
    name: "Bless",
    level: 1,
    school: "enchantment",
    castingTime: "Action",
    range: "30 feet",
    components: ["v", "s", "m"],
    material: "a sprinkling of holy water",
    concentration: true,
    duration: "1 minute",
    flavor: "You bless your allies with divine favor.",
    description: [
      "Up to three creatures of your choice within range become bless. Whenever they make an Attack Roll or a Saving Throw, they gain a +1 bonus to the Test.",
    ],
    atHigherLevels:
      "When you cast this spell using a spell slot of 2nd level or higher, you can target one additional creature for each slot level above 1st.",
    sources: ["divine"],
    tags: ["buff"],
    group: "Divine Enchantment",
  },
  {
    name: "Burning Hands",
    level: 1,
    school: "evocation",
    castingTime: "Action",
    range: "Self",
    area: "three adjacent lines 15 feet long and 5 feet wide",
    duration: "Instantaneous",
    components: ["v", "s"],
    flavor: "You unleash a wave of fire from your outstretched fingertips.",
    description: [
      "On a hit, each creature takes 3d6 fire damage. On a miss, each creature takes only half as much damage.",
      "The flames ignite any flammable objects in the area that aren't being worn or carried.",
    ],
    atHigherLevels:
      "The damage increases by 1d6 for each slot level above 1st.",
    sources: ["arcane"],
    tags: ["area"],
    damageTypes: ["fire"],
    savingThrow: "dex",
    group: "Elemental Burst",
  },
  {
    name: "Catapult",
    level: 1,
    school: "transmutation",
    castingTime: "Action",
    range: "60 feet",
    duration: "Instantaneous",
    components: ["s"],
    flavor: "You launch an object at a creature.",
    description: [
      "Choose an object weighing up to 5 pounds that isn't being worn or carried by an unwilling creature. The object flies in a straight line up to 120 feet in a direction you choose; after that distance, it falls to the ground. If the object encounters a creature or a solid surface, the object stops early and you can have the spell deal 3d10 bludgeoning damage to the target.",
    ],
    atHigherLevels:
      "The damage increases by 1d10 and the weight limit increases by 5 pounds for each slot level above 1st.",
    damageTypes: ["bludgeoning"],
    sources: ["arcane"],
    tags: ["ranged"],
  },
  {
    name: "Cause Fear",
    level: 1,
    school: "necromancy",
    castingTime: "Action",
    range: "60 feet",
    duration: "1 minute",
    concentration: true,
    components: ["v"],
    flavor: "You awaken the sense of mortality in your foe.",
    description: [
      "One creature is Frightened of you.",
      "A creature can roll a Wisdom Saving Throw at the end of each of its turns, ending the effect on itself on a success.",
    ],
    atHigherLevels:
      "When you cast this spell using a spell slot of 2nd level or higher, you can target one additional creature for each slot level above 1st.",
    sources: ["arcane"],
    tags: ["debuff"],
    savingThrow: "wis",
  },
  // {
  //   name: "Ceremony",
  // },
  {
    name: "Chaos Bolt",
    level: 1,
    school: "evocation",
    castingTime: "Action",
    range: "120 feet",
    duration: "Instantaneous",
    components: ["v", "s"],
    flavor:
      "You manifest and hurl an undulating, warbling mass of chaotic energy.",
    description: [
      "The creature takes 2d8 + 1d12 damage. Choose one of the d8s. The number it rolled determines the type of damage you deal (see below). If you scored a Critical Hit on your Spellcasting Attempt or you rolled the same number on both d8s, the chaotic energy leaps from the target to a different creature of your choice within 30 feet of it. Make a new Spellcasting Attempt against the new target.",
      "You can't choose the same creature as a target more than once in a turn.",
      "**Damage Type.** (1) Acid – (2) Cold – (3) Fire – (4) Force – (5) Lightning – (6) Poison – (7) Psychic – (8) Thunder",
    ],
    atHigherLevels:
      "When you cast this spell using a spell slot of 2nd level or higher, each creature takes 1d12 extra damage of the type rolled for each slot level above 1st.",
    sources: ["sorcerer"],
    damageTypes: [
      "acid",
      "cold",
      "fire",
      "force",
      "lightning",
      "poison",
      "psychic",
      "thunder",
    ],
    tags: ["ranged"],
    group: "Colorful Energy",
  },
  {
    name: "Charm Person",
    level: 1,
    school: "enchantment",
    castingTime: "Action",
    range: "30 feet",
    duration: "1 hour",
    components: ["v", "s"],
    flavor: "Your presence inspires a friendly attitude in other humanoids.",
    description: [
      "One humanoid becomes Charmed by you.",
      "If you or one of your companions harm the target, the spell ends.",
    ],
    atHigherLevels:
      "When you cast this spell using a spell slot of 2nd level or higher, you can target one additional humanoid for each slot level above 1st.",
    sources: ["divine"],
    savingThrow: "wis",
    tags: ["debuff"],
    group: "Divine Enchantment",
  },
  {
    name: "Chromatic Orb",
    level: 1,
    school: "evocation",
    castingTime: "Action",
    range: "90 feet",
    duration: "Instantaneous",
    components: ["v", "s", "m"],
    material: "a pricy gem",
    flavor: "You materialize a 4-inch-diameter sphere of energy and hurl it.",
    description: [
      "The creature takes 3d10 damage of a type you choose: acid, cold, fire, lightning, poison, or thunder.",
    ],
    atHigherLevels:
      "When you cast this spell using a spell slot of 2nd level or higher, the damage increases by 1d10 for each slot level above 1st.",
    sources: ["arcane"],
    damageTypes: ["acid", "cold", "fire", "lightning", "poison", "thunder"],
    tags: ["ranged"],
    group: "Colorful Energy",
  },
  // {
  //   name: "Color Spray",
  // },
  {
    name: "Command",
    level: 1,
    school: "enchantment",
    castingTime: "Action",
    range: "60 feet",
    duration: "Until the start of your next turn",
    components: ["v"],
    flavor: "You issue a short order for a creature to obey.",
    description: [
      "You issue a one-word command to a creature that can understand you. The creature obeys the command as best it can during before your next turn. The spell fails if the command is directly harmful to the creature.",
      "Here are a few examples of issuables commands and their effects:",
      "**Approach.** The target moves toward you by the shortest and most direct route. Its turn ends if it moves within 5 feet of you.",
      "**Drop.** The target drops whatever it is holding and then ends its turn.",
      "**Flee.** The target spends its turn moving away from you by the fastest available means.",
      "**Grovel.** The target falls prone and then ends its turn.",
      "**Halt.** The target stays where it is and takes no actions. Its turn ends.",
      "**Smash.** The target makes a Melee Attack against the nearest creature or object.",
    ],
    atHigherLevels:
      "When you cast this spell using a spell slot of 2nd level or higher, you can affect one additional creature for each slot level above 1st.",
    sources: ["divine"],
    tags: ["debuff"],
    savingThrow: "wis",
  },
  // {
  //   name: "Compelled Duel",
  // },
  // {
  //   name: "Comprehend Languages",
  // },
  {
    isPrivate: true,
    name: "Create or Destroy Water",
    level: 1,
    school: "transmutation",
    castingTime: "Action",
    range: "30 feet",
    area: "30-foot cube",
    components: ["v", "s", "m"],
    material:
      "a drop of water (if creating water) or a few grains of sand (if destroying it)",
    duration: "Instantaneous",
    flavor: "The most essential element holds no secrets from you.",
    description: [
      "Choose one of the following effects:",
      "**Create Water.** You create up to 10 gallons of clean water within range in an open container. Alternatively, the water falls as rain in the area, extinguishing exposed flames.",
      "**Destroy Water.** You destroy up to 10 gallons of water in an open container. Alternatively, you destroy fog in the area.",
    ],
    atHigherLevels:
      "When you cast this spell using a spell slot of 2nd level or higher, you create or destroy 10 additional gallons of water, or the size of the cube increases by 10 feet, for each slot level above 1st.",
    sources: ["divine", "primal"],
  },
  {
    name: "Cure Wounds",
    level: 1,
    school: "evocation",
    castingTime: "Action",
    range: "Touch",
    duration: "Instantaneous",
    components: ["v", "s"],
    flavor: "You channel positive energy to heal a creature's wounds.",
    description: [
      "The creature regains a number of Hit Points equal to 1d12 + your Spellcasting Ability Modifier.",
    ],
    atHigherLevels:
      "When you cast this spell using a spell slot of 2nd level or higher, the healing increases by 1d12 for each slot level above 1st.",
    tags: ["heal"],
    sources: ["divine", "primal"],
  },
  {
    name: "Detect Evil and Good",
    level: 1,
    school: "divination",
    castingTime: "Action",
    range: "Self",
    area: "30-foot radius sphere",
    concentration: true,
    ritual: true,
    duration: "10 minutes",
    components: ["v", "s"],
    flavor: "You sense the presence of otherworldly creatures.",
    description: [
      "You know if there is an aberration, celestial, elemental, fey, fiend, or undead within the area, as well as where the creature is located.",
      "Similarly, you know if there is a place or object within the area that has been magically consecrated or desecrated.",
    ],
    sources: ["divine"],
    group: "Sense the Unseen",
  },
  {
    name: "Detect Magic",
    level: 1,
    school: "divination",
    castingTime: "Action",
    range: "Self",
    area: "30-foot radius sphere",
    concentration: true,
    ritual: true,
    duration: "10 minutes",
    components: ["v", "s"],
    flavor: "Your senses awaken to the mystical tapestry that surrounds you.",
    description: [
      "You see a faint aura around any visible creature or object that bears magic.",
      "As an Action, you can learn the school of magic of an aura, if it has one.",
    ],
    atHigherLevels:
      "For each spell slot above 1st level, the radius of the sphere increases by 15 feet.",
    group: "Sense the Unseen",
    sources: ["arcane", "divine", "primal"],
  },
  {
    name: "Detect Metal and Mineral",
    level: 1,
    school: "divination",
    castingTime: "Action",
    range: "Self",
    area: "10-foot radius sphere",
    concentration: true,
    ritual: true,
    duration: "10 minutes",
    components: ["v", "s"],
    flavor:
      "Throuh the toughest material, you sense the presence of metals and minerals.",
    description: [
      "You perceive metals and minerals and can recognize them instantaneously if you are familiar with them.",
    ],
    atHigherLevels:
      "For each spell slot above 1st level, the radius of the sphere increases by 5 feet.",
    group: "Sense the Unseen",
    sources: ["arcane", "primal"],
  },
  {
    name: "Detect Life",
    level: 1,
    school: "divination",
    castingTime: "Action",
    range: "Self",
    area: "60-foot radius sphere",
    ritual: true,
    duration: "Instantaneous",
    components: ["v", "s"],
    flavor:
      "In a flash, you sense the presence of living creatures around you.",
    description: [
      "You perceive living creatures and can recognize their Creature Type if you are familiar with it.",
    ],
    atHigherLevels:
      "For each spell slot above 1st level, the radius of the sphere increases by 30 feet.",
    group: "Sense the Unseen",
    sources: ["primal"],
  },
  {
    name: "Detect Poison and Disease",
    level: 1,
    school: "divination",
    castingTime: "Action",
    range: "Self",
    area: "30-foot radius sphere",
    concentration: true,
    ritual: true,
    duration: "10 minutes",
    components: ["v", "s", "m"],
    material: "a yew leaf",
    flavor: "The presence of illness becomes obvious in a timely manner.",
    description: [
      "You perceive poisons, poisonous creatures, or diseases and can recognize them instantaneously if you are familiar with them.",
    ],
    atHigherLevels:
      "For each spell slot above 1st level, the radius of the sphere increases by 15 feet.",
    group: "Sense the Unseen",
    sources: ["divine", "primal"],
  },
  // {
  //   name: "Disguise Self",
  // },
  {
    name: "Dissonant Whispers",
    level: 1,
    school: "enchantment",
    castingTime: "Action",
    range: "60 feet",
    duration: "Instantaneous",
    components: ["v"],
    flavor: "A faint discordant melody plays in the mind of your enemy.",
    description: [
      "Deafened creatures are immune to this spell.",
      "On a hit, the creature takes 3d8 psychic damage and must immediately use its Reaction, if available, to safely move as far as its Speed allows away from you. On a miss, the creature takes half as much damage and doesn't have to move away.",
    ],
    atHigherLevels:
      "The damage increases by 1d8 for each spell slot level above 1st.",
    sources: ["bard"],
    savingThrow: "wis",
    damageTypes: ["psychic"],
  },
  {
    name: "Divine Favor",
    level: 1,
    school: "evocation",
    castingTime: "Bonus Action",
    range: "Self",
    duration: "1 minute",
    components: ["v", "s"],
    concentration: true,
    flavor: "Your prayers empower your weapon with divine energy.",
    description: ["Your Attacks deal an extra 1d4 radiant damage."],
    atHigherLevels:
      "The damage increases to 1d6 with 3rd- or 4th-level spell slots and 1d8 with 5th-level spell slots.",
    tags: ["buff"],
    sources: ["divine"],
    damageTypes: ["radiant"],
  },
  {
    name: "Earth Tremor",
    level: 1,
    school: "evocation",
    castingTime: "Action",
    range: "60 feet",
    area: "10-foot radius surface",
    duration: "Instantaneous",
    components: ["v", "s"],
    flavor: "You cause the ground to shake all around you.",
    description: [
      "Each creature takes 1d8 bludgeoning damage and is knocked Prone.",
      "If the ground in the area is loose earth or stone, it becomes difficult terrain.",
    ],
    atHigherLevels:
      "The damage increases by 1d8 and the radius of the area increases by 5 feet for each spell slot level above 1st.",
    sources: ["arcane", "primal"],
    damageTypes: ["bludgeoning"],
    savingThrow: "dex",
    tags: ["area", "control"],
  },
  // {
  //   name: "Ensnaring Strike",
  //   level: 1,
  //   school: "conjuration",
  //   castingTime: "Bonus Action",
  //   range: "Self",
  //   duration: "1 minute",
  //   components: ["v"],
  //   concentration: true,
  //   flavor: "Your weapon becomes imbued with nature's power.",
  //   sources: ["ranger"],
  // },
  {
    name: "Entangle",
    level: 1,
    school: "conjuration",
    castingTime: "Action",
    range: "90 feet",
    area: "20-foot square",
    duration: "1 minute",
    components: ["v", "s"],
    concentration: true,
    sources: ["primal"],
    flavor: "Plants and vines spring from the ground and ensnare your foes.",
    description: [
      "Each creature is Restrained by entangling plants. A creature can make a Strength Saving Throw at the end of each of its turns, ending the effect on itself on a success.",
      "The area becomes difficult terrain.",
      "When the spell ends, the plants wilt away.",
    ],
    atHigherLevels:
      "The area increases by 5 feet for each spell slot level above 1st.",
    savingThrow: "str",
    tags: ["area", "control"],
  },
  {
    name: "Expeditious Retreat",
    level: 1,
    school: "transmutation",
    castingTime: "Bonus Action",
    range: "Self",
    duration: "10 minutes",
    components: ["v", "s"],
    concentration: true,
    flavor: "You move with supernatural speed.",
    description: [
      "On a successful Spellcasting Attempt, and then each turn as a Bonus Action, you can take the Dash Action.",
    ],
    sources: ["arcane"],
    tags: ["buff"],
    atHigherLevels:
      "When you cast this spell using a spell slot of 2nd level or higher, the range of the spell becomes Touch and you can affect one additional creature for each slot level above 1st.",
  },
  {
    name: "Faerie Fire",
    level: 1,
    school: "evocation",
    castingTime: "Action",
    range: "60 feet",
    area: "20-foot cube",
    duration: "1 minute",
    components: ["v"],
    concentration: true,
    flavor: "You make creatures and objects glow with a an eerie color.",
    description: [
      "Each creature in the area sheds dim light in 15-foot radius sphere. The creatures can't benefit from being Invisible.",
      "Attack Rolls and Melee or Ranged Spellcasting Attempts against the creatures have Advantage if the attacker can see them.",
    ],
    atHigherLevels:
      "The area increases by 5 feet for each spell slot level above 1st.",
    savingThrow: "dex",
    sources: ["artificer", "bard", "druid"],
    tags: ["area", "debuff"],
  },
  {
    name: "False Life",
    level: 1,
    school: "necromancy",
    castingTime: "Reaction, taken right before you take damage",
    range: "Self",
    duration: "1 minute",
    components: ["v", "s", "m"],
    material: "a small amount of alcohol or distilled spirits",
    flavor:
      "You draw on the power of unlife to swiftly grant yourself vitality.",
    description: [
      "You gain a number of Resilience Points equal to 1d6 plus your Spellcasting Ability Modifier.",
    ],
    atHigherLevels:
      "You gain 1d6 additional Resilience Points for each spell slot level above 1st.",
    tags: ["buff"],
    sources: ["arcane"],
    group: "Barrier",
  },
  {
    name: "Feather Fall",
    level: 1,
    school: "transmutation",
    castingTime:
      "Reaction, taken right before you or a creature within range falls",
    range: "60 feet",
    duration: "1 minute",
    components: ["v", "m"],
    material: "a small bird feather or piece of down",
    flavor: "You slow the descent of falling creatures.",
    description: [
      "Up to five falling creatures within range descend 60 feet per round instead of falling and take no damage from the fall.",
    ],
    atHigherLevels:
      "For each spell slot above 1st level, the number of creatures you can affect increases by five, the range increases by 60 feet and the duration increases by 1 minute.",
    sources: ["arcane"],
    tags: ["buff"],
  },
  // {
  //   name: "Find Familiar",
  // },
  {
    name: "Fog Cloud",
    level: 1,
    school: "conjuration",
    castingTime: "Action",
    range: "120 feet",
    area: "20-foot-radius sphere",
    duration: "1 hour",
    components: ["v", "s", "m"],
    material: "a few drops of water",
    flavor: "You conjure a thick mist that obscures vision.",
    description: [
      "The area becomes Heavily Obscured.",
      "A moderate wind (at least 10 miles per hour) disperses the fog.",
    ],
    atHigherLevels:
      "For each spell slot above 1st level, the radius of the sphere increases by 20 feet.",
    sources: ["arcane", "primal"],
    tags: ["area", "control"],
  },
  // {
  //   name: "Goodberry",
  // },
  {
    name: "Grease",
    level: 1,
    school: "conjuration",
    castingTime: "Action",
    range: "60 feet",
    area: "10-foot square",
    duration: "1 minute",
    components: ["v", "s", "m"],
    material: "a bit of animal fat",
    flavor: "You create a very slippery substance on the ground.",
    description: [
      "Each creature falls Prone.",
      "The area becomes difficult terrain and any creature that enters it or ends its turn there must succeed on a Dexterity Saving Throw or fall Prone.",
    ],
    atHigherLevels:
      "For each spell slot above 1st level, the area increases by 10 feet.",
    sources: ["arcane"],
    tags: ["area", "control"],
    savingThrow: "dex",
  },
  {
    name: "Guiding Bolt",
    level: 1,
    school: "evocation",
    castingTime: "Action",
    range: "120 feet",
    duration: "Until the start of your next turn",
    components: ["v", "s"],
    flavor: "A flash of light streaks towards your target.",
    sources: ["cleric"],
    description: [
      "On a hit, the creature takes 4d6 radiant damage and the next Attack Roll against the creature has Advantage.",
      "The creature sheds dim light in a 5-foot radius and can't benefit from being Invisible.",
    ],
    atHigherLevels:
      "The damage increases by 2d6 for each spell slot level above 1st.",
    tags: ["ranged", "debuff"],
    damageTypes: ["radiant"],
  },
  {
    name: "Shield",
    level: 1,
    school: "abjuration",
    castingTime: "Reaction, taken right before you take damage",
    range: "Self",
    duration: "Until the start of your next turn",
    components: ["v", "s"],
    flavor: "You raise a magical barrier to protect yourself.",
    description: [
      "You have +2 bonus to AC.",
      "In addition, you take no damage from spells in the Magic Missile group.",
    ],
    atHigherLevels:
      "For each spell slot above 1st level, the bonus to AC increases by 1.",
    sources: ["arcane"],
    group: "Barrier",
    tags: ["buff"],
  },
  {
    name: "Stalaclites",
    level: 1,
    school: "evocation",
    castingTime: "Action",
    range: "60 feet",
    area: "5-foot-radius, 30-foot-high cylinder",
    duration: "Instantaneous",
    components: ["v", "s"],
    flavor: "You make sharp icicles fall from above.",
    description: [
      "On a hit, each creature takes 4d4 cold damage. On a miss, each creature takes only half as much damage.",
      "The cold freezes nonmagical liquids that isn't being worn or carried.",
    ],
    atHigherLevels:
      "The damage increases by 2d4 for each spell slot level above 1st.",
    sources: ["arcane"],
    tags: ["area"],
    damageTypes: ["cold"],
    savingThrow: "dex",
    group: "Elemental Burst",
  },
  {
    name: "Thunderwave",
    level: 1,
    school: "evocation",
    castingTime: "Action",
    range: "Self",
    area: "15-foot cube",
    duration: "Instantaneous",
    components: ["v", "s"],
    flavor: "You create a wave of thunderous force.",
    description: [
      "On a hit, each creature takes 2d8 thunder damage and is pushed 10 feet away from you. On a miss, each creature takes only half as much damage and isn't pushed.",
      "The spell emits a thunderous boom audible out to 300 feet.",
    ],
    atHigherLevels:
      "For each slot above 1st level, the damage increases by 1d8 and the distance of the push increases by 5 feet.",
    savingThrow: "con",
    tags: ["area", "control"],
    damageTypes: ["thunder"],
    group: "Elemental Burst",
    sources: ["arcane", "druid"],
  },
  {
    name: "Goo",
    level: 1,
    school: "abjuration",
    castingTime: "Reaction, taken right before you take damage",
    range: "Self",
    duration: "Until the start of your next turn",
    components: ["v", "s"],
    flavor:
      "The air around you becomes thick and absorbs the impact of any attack.",
    description: ["You have Absorb all damage 2."],
    atHigherLevels:
      "For each spell slot above 1st level, the Absorb all damage increases by 1.",
    sources: ["arcane"],
    group: "Barrier",
    tags: ["buff"],
  },
  {
    name: "Darts",
    level: 1,
    school: "evocation",
    castingTime: "Action",
    range: "120 feet",
    components: ["v", "s"],
    duration: "Instantaneous",
    flavor: "Darts of energy erupt from your palms and shoot without warning.",
    description: [
      "This spell always hits (don't roll against the Target).",
      "You create three darts that deal 1d4+1 force damage each.",
      "The darts hit simultaneously and you can direct them to hit one creature or several.",
    ],
    damageTypes: ["force"],
    atHigherLevels:
      "For each spell slot above 1st level, you create an additional dart.",
    sources: ["arcane"],
    group: "Magic Missile",
    tags: ["ranged"],
  },
  {
    name: "Arrow",
    level: 1,
    school: "evocation",
    castingTime: "Action",
    range: "300 feet",
    components: ["v", "s"],
    duration: "Instantaneous",
    flavor:
      "You create an immense arrow of pure energy and shoot it with high precision.",
    description: [
      "This spell always hits (don't roll against the Target).",
      "You create an arrow that deals 3d6+3 force damage.",
    ],
    damageTypes: ["force"],
    atHigherLevels:
      "For each spell slot above 1st level, the damage increases by 1d6+1.",
    sources: ["arcane"],
    group: "Magic Missile",
    tags: ["ranged"],
  },
  {
    name: "Fireball",
    level: 3,
    school: "evocation",
    castingTime: "Action",
    range: "150 feet",
    area: "15-foot-radius sphere",
    duration: "Instantaneous",
    components: ["v", "s", "m"],
    material: "a tiny ball of bat guano and sulfur",
    flavor:
      "A bright streak flashes from your pointing finger into the distance and then blossoms with a low roar into an explosion of flame.",
    description: [
      "On a hit, each creature takes 8d6 fire damage. On a miss, each creature takes half as much damage.",
    ],
    damageTypes: ["fire"],
    atHigherLevels:
      "For each spell slot above 3rd level, the damage increases by 1d6 and the radius of the sphere increases by 5 feet (to a maximum of 30 feet at 6th level).",
    savingThrow: "dex",
    sources: ["arcane"],
    group: "Elemental Torrent",
    tags: ["area"],
  },
  {
    name: "Lightning Bolt",
    level: 3,
    school: "evocation",
    castingTime: "Action",
    range: "Self",
    area: "120-foot long, 5-foot wide line",
    duration: "Instantaneous",
    components: ["v", "s", "m"],
    material: "a bit of fur and a rod of amber, crystal, or glass",
    flavor: "A stroke of lightning blasts straight out of you.",
    description: [
      "On a hit, each creature takes 5d12 lightning damage. On a miss, each creature takes half as much damage.",
    ],
    damageTypes: ["lightning"],
    atHigherLevels:
      "For each spell slot above 3rd, you can evoke an additional line for each slot level above 3rd (to a maximum of four at 6th level) to increase the area of effect of this spell. The damage also increases to 6d12 for a 4th-level slot and 7d12 for a 6th-level slot.",
    savingThrow: "dex",
    sources: ["arcane"],
    group: "Elemental Torrent",
    tags: ["area"],
  },
  {
    name: "Frozen Cube",
    level: 3,
    school: "evocation",
    castingTime: "Action",
    range: "150 feet",
    area: "25-foot cube",
    duration: "Instantaneous",
    components: ["v", "s", "m"],
    material: "a drop of water",
    flavor: "You create a cube of ice that explodes outward in a frigid blast.",
    description: [
      "On a hit, each creature takes 12d4 cold damage and has its speed halved until the start of your next turn.",
      "On a miss, each creature takes half as much damage and its speed isn't reduced.",
    ],
    damageTypes: ["cold"],
    atHigherLevels:
      "For each spell slot above 3rd level, the damage increases by 2d4 and the width of the cube increases by 5 feet (to a maximum of 40 feet at 6th level).",
    savingThrow: "con",
    sources: ["arcane"],
    group: "Elemental Torrent",
    tags: ["area"],
  },
  {
    name: "Deadly Feast",
    level: 5,
    school: "necromancy",
    castingTime: "Action",
    range: "Self",
    area: "600-foot-radius sphere",
    duration: "24 hours",
    components: ["v", "s", "m"],
    material: "a flask of poison, that the spell consumes",
    flavor: "You bring death the fools that dare to eat spoiled meat.",
    description: [
      "All food and drinks become poisonous. A creature that ingests any of this poison must make a Constitution Saving Throw or take 10d10 poison damage, or half as much damage on a successful save.",
    ],
    atHigherLevels:
      "For each spell slot above 5th level, the area of effect increases by 600 feet.",
    savingThrow: "con",
    sources: ["arcane"],
    group: "Blighted Harvest",
    tags: ["area"],
    damageTypes: ["poison"],
    ritual: true,
  },
];
